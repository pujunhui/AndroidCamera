# AndroidCamera

ä¸€ä¸ªå®Œæ•´çš„Androidç›¸æœºåº”ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºäº†Camera1ã€Camera2å’ŒCameraXä¸‰ç§ç›¸æœºAPIçš„ä½¿ç”¨æ–¹å¼ï¼Œå¹¶è§£å†³äº†ç›¸æœºé¢„è§ˆè§’åº¦å’Œå®½é«˜æ¯”ä¸æ­£ç¡®çš„å¸¸è§é—®é¢˜ã€‚

## ğŸ“± é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªAndroidç›¸æœºå¼€å‘çš„å­¦ä¹ å’Œå‚è€ƒé¡¹ç›®ï¼Œæä¾›äº†ä¸‰ç§ä¸åŒç›¸æœºAPIçš„å®ç°æ–¹æ¡ˆï¼š

- **Camera1 (android.hardware.Camera)** - ä¼ ç»Ÿçš„ç›¸æœºAPI
- **Camera2 (android.hardware.camera2)** - Android 5.0+å¼•å…¥çš„ç°ä»£ç›¸æœºAPI
- **CameraX (androidx.camera)** - Googleæ¨èçš„Jetpackç›¸æœºåº“

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… æ”¯æŒCamera1ã€Camera2ã€CameraXä¸‰ç§ç›¸æœºå®ç°æ–¹å¼
- âœ… å®æ—¶ç›¸æœºé¢„è§ˆ
- âœ… æ‹ç…§åŠŸèƒ½
- âœ… å‰åæ‘„åƒå¤´åˆ‡æ¢
- âœ… è‡ªåŠ¨å¤„ç†é¢„è§ˆè§’åº¦å’Œå®½é«˜æ¯”
- âœ… æ”¯æŒä¸åŒç¼©æ”¾ç±»å‹ï¼ˆCENTER_INSIDEã€CENTER_CROPç­‰ï¼‰
- âœ… æƒé™ç®¡ç†å’Œè¿è¡Œæ—¶è¯·æ±‚
- âœ… é€‚é…Androidä¸åŒç‰ˆæœ¬

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯è¦ç‚¹

### Camera1 é¢„è§ˆè§’åº¦é—®é¢˜

Camera1é»˜è®¤ä¼šæ ¹æ®ä¼ æ„Ÿå™¨æ–¹å‘å’Œæ‘„åƒå¤´ç±»å‹è®¡ç®—ä¸€ä¸ªé»˜è®¤çš„displayOrientationï¼Œä½†è¿™ä¸ªè®¡ç®—è§„åˆ™æ¯”è¾ƒå¤æ‚ä¸”éš¾ä»¥ç†è§£ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**
- è®¾ç½® `displayOrientation = 0`
- é€šè¿‡Matrixè®¡ç®—æ­£ç¡®çš„æ—‹è½¬ã€ç¼©æ”¾å’Œé•œåƒ
- å°†Matrixåº”ç”¨åˆ°TextureViewä¸Š

å…³é”®ä»£ç è§ï¼š`CameraFragment.kt` å’Œ `MatrixUtil.kt`

### Camera2 æ—‹è½¬é—®é¢˜

Camera2é»˜è®¤ä¼šæ—‹è½¬ç”»é¢ç¡®ä¿displayOrientation=0æ—¶è§’åº¦æ­£ç¡®ï¼Œä½†è®¾å¤‡æ—‹è½¬åæ— æ³•è‡ªåŠ¨é€‚åº”ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**
- è®¡ç®—è®¾å¤‡æ—‹è½¬è§’åº¦
- é€šè¿‡MatrixåŠ¨æ€è°ƒæ•´TextureViewçš„å˜æ¢
- å¤„ç†å‰ç½®æ‘„åƒå¤´çš„é•œåƒé—®é¢˜

å…³é”®ä»£ç è§ï¼š`Camera2Fragment.kt`

### CameraX ä¼˜åŠ¿

CameraXæ˜¯Googleæ¨èçš„ç›¸æœºè§£å†³æ–¹æ¡ˆï¼Œå®ƒè‡ªåŠ¨å¤„ç†äº†å¤§éƒ¨åˆ†å¤æ‚çš„ç›¸æœºé…ç½®å’Œå…¼å®¹æ€§é—®é¢˜ï¼š
- è‡ªåŠ¨å¤„ç†é¢„è§ˆè§’åº¦
- ç®€åŒ–çš„APIè®¾è®¡
- ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥
- ä¸€è‡´çš„è¡Œä¸ºè¡¨ç°

## ğŸ“– å…³é”®çŸ¥è¯†ç‚¹

### Camera1 vs Camera2 vs CameraX

| ç‰¹æ€§ | Camera1 | Camera2 | CameraX |
|------|---------|---------|---------|
| APIçº§åˆ« | API 1+ | API 21+ | API 21+ |
| æ˜“ç”¨æ€§ | ç®€å• | å¤æ‚ | ç®€å• |
| åŠŸèƒ½æ€§ | åŸºç¡€ | å¼ºå¤§ | å¼ºå¤§ |
| ç»´æŠ¤çŠ¶æ€ | å·²åºŸå¼ƒ | æ´»è·ƒ | æ¨è |
| æ‰‹åŠ¨æ§åˆ¶ | æœ‰é™ | å®Œå…¨ | é€‚ä¸­ |

## ğŸ“š å‚è€ƒèµ„æ–™

- [Android Camera API å®˜æ–¹æ–‡æ¡£](https://developer.android.com/guide/topics/media/camera)
- [CameraX å®˜æ–¹æŒ‡å—](https://developer.android.com/training/camerax)
- [Camera2 API å‚è€ƒ](https://developer.android.com/reference/android/hardware/camera2/package-summary)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

- GitHub: [@pujunhui](https://github.com/pujunhui)

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼
